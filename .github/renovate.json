{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "packageRules": [
    {
      "matchPaths": ["**/kubernetes/apps/**/helmrelease.yaml"],
      "matchPackageNames": ["ingress-nginx", "reflector", "authentik"],
      "versioning": "semver",
      "registryUrls": [
        "https://kubernetes.github.io/ingress-nginx",
        "https://emberstack.github.io/helm-charts",
        "https://charts.goauthentik.io"
      ]
    },
    {
      "matchPaths": ["**/kubernetes/apps/production/reflector/helmrelease.yaml"],
      "matchPackageNames": ["reflector"],
      "versioning": "semver",
      "registryUrls": ["https://emberstack.github.io/helm-charts"]
    },
    {
      "matchPaths": ["**/kubernetes/apps/production/authentik/helmrelease.yaml"],
      "matchPackageNames": ["authentik"],
      "versioning": "semver",
      "registryUrls": ["https://charts.goauthentik.io"]
    },
    {
      "matchPaths": ["**/kubernetes/apps/production/ingress-nginx/helmrelease.yaml"],
      "matchPackageNames": ["ingress-nginx"],
      "versioning": "semver",
      "registryUrls": ["https://kubernetes.github.io/ingress-nginx"]
    }
  ],
  "regexManagers": [
    {
      "fileMatch": [
        "(^|/)kubernetes/apps/.+/helmrelease\\.ya?ml$"
      ],
      "matchStrings": [
        "chart:\\s*\\n\\s*spec:\\s*\\n\\s*chart:\\s*(?<depName>\\S+)\\s*\\n\\s*version:\\s*[\"']?(?<currentValue>[0-9a-zA-Z\\.\\-]+)[\"']?"
      ],
      "datasourceTemplate": "helm",
      "versioningTemplate": "semver"
    }
  ],
  "dependencyDashboardTitle": ":robot: Renovate Dashboard"
}
